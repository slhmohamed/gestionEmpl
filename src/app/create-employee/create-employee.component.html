<div class="styl">
  <h5 class="card-header">Enregistrer Nouveaux Employee</h5>
  <div class="card-body">
      <form [formGroup] = "employeeForm" (ngSubmit) ="onSubmit()">
         
              <div class="form-group">
                  <label>Matricule</label>
                  <input type="text" value="matricule" id="matricule" formControlName="matricule" class="form-control"
                         [(ngModel)]="employee.matricule"    
                        [ngClass]="{ 'is-invalid': submitted && f['matricule'].errors }" />
                   <div *ngIf="submitted && f['matricule'].errors" class="invalid-feedback">
                      <div *ngIf="f['matricule'].errors['required']">Matricule must be at least 6 characters</div>
                  </div>
             
              <div class="form-group">
                  <label>Email</label>
                  <input type="text" formControlName="email" class="form-control"
                  [(ngModel)]="employee.email"    
                      [ngClass]="{ 'is-invalid': submitted && f['email'].errors }" />
                  <div *ngIf="submitted && f['email'].errors" class="invalid-feedback">
                      <div *ngIf="f['email'].errors['required']">Email is required</div>
                      <div *ngIf="f['email'].errors['email']">Email must be a valid email address</div>
                  </div>
              </div>
              <div class="form-group">
                  <label>User Name</label>
                  <input type="text" formControlName="username" class="form-control"
                  [(ngModel)]="employee.username"  
                      [ngClass]="{ 'is-invalid': submitted && f['username'].errors }" />
                  <div *ngIf="submitted && f['username'].errors" class="invalid-feedback">
                      <div *ngIf="f['username'].errors['required']">userName is required</div>
                  </div>
              </div>
              <div class="form-group">
                  <label>Nom</label>
                  <input type="text" formControlName="nom" class="form-control"
                  [(ngModel)]="employee.nom"    
                      [ngClass]="{ 'is-invalid': submitted && f['nom'].errors }" />
                  <div *ngIf="submitted && f['nom'].errors" class="invalid-feedback">
                      <div *ngIf="f['nom'].errors['required']">Nom is required</div>
                  </div>
              </div>
              <div class="form-group">
                  <label>Age </label>
                  <input type="text" formControlName="age" class="form-control"
                  [(ngModel)]="employee.age"    
                      [ngClass]="{ 'is-invalid': submitted && f['age'].errors }" />
                  <div *ngIf="submitted && f['age'].errors" class="invalid-feedback">
                      <div *ngIf="f['age'].errors['required']">minlengh is 18</div>
                  </div>
              </div>
              <div class="form-group">
                  <label>Password</label>
                  <input type="password" formControlName="password" class="form-control"
                  [(ngModel)]="employee.password"    
                      [ngClass]="{ 'is-invalid': submitted && f['password'].errors }" />
                  <div *ngIf="submitted && f['password'].errors" class="invalid-feedback">
                      <div *ngIf="f['password'].errors['required']">Password is required</div>
                      <div *ngIf="f['password'].errors['minlength']">Password must be at least 6 characters</div>
                  </div>
              </div>
              <div class="form-group">
                  <label>Prenom</label>
                  <input type="text" formControlName="prenom" class="form-control"
                  [(ngModel)]="employee.prenom"    
                      [ngClass]="{ 'is-invalid': submitted && f['prenom'].errors }" />
                  <div *ngIf="submitted && f['prenom'].errors" class="invalid-feedback">
                      <div *ngIf="f['prenom'].errors['required']">Nom is required</div>
                  </div>
              </div>
              <div class="form-group">
                  <label>Etat Civil</label>
                  <input type="text" formControlName="etatcivil" class="form-control"
                  [(ngModel)]="employee.etatcivil"    
                      [ngClass]="{ 'is-invalid': submitted && f['etatcivil'].errors }" required/>
                  <div *ngIf="submitted && f['etatcivil'].errors" class="invalid-feedback">
                      <div *ngIf="f['etatcivil'].errors['required']">Etat Civil is required</div>
                  </div>
              </div>
              <div class="form-group">
                  <label>Date de Recrutement</label>
                  <input type="Date" formControlName="daterecrutement" class="form-control"
                  [(ngModel)]="employee.daterecrutement"  
                      [ngClass]="{ 'is-invalid': submitted && f['daterecrutement'].errors }" required/>
                  <div *ngIf="submitted && f['daterecrutement'].errors" class="invalid-feedback">
                      <div *ngIf="f['daterecrutement'].errors['required']">  Date is required</div>
                  </div>
              </div>
           
                
              <div class="form-group">
                <label for="role">role :</label>
                <select id="role" formControlName="role">
                    <option value="">--Please choose an option--</option>
                    <option *ngFor="let role of roles" [value]="role.id">{{role.roleName}} </option>

                    
                </select>
              
              </div>
              <div class="form-group">
                <label for="region">region :</label>
                <select id="region" formControlName="region">
                    <option value="">--Please choose an option--</option>
                    <option *ngFor="let region of regions" [value]="region.codeRegion">{{region.libelle}} </option>

                    
                </select>
              
              </div>
              <div class="form-group">
                <label for="service">service :</label>
                <select id="service" formControlName="service">
                    <option value="">--Please choose an option--</option>
                    <option *ngFor="let service of services" [value]="service.id">{{service.service}} </option>

                    
                </select>
              
              </div>
              <div class="text-center">
                <button class ="btn btn-success" (click)="onSubmit()"> submit</button>
                  <button class="btn btn-secondary" type="reset" (click)="onReset()">Cancel</button>
              </div>
          </div>
      </form>
  </div>
</div>